import{d as e,_ as s,u as t,B as a,C as l,D as n,E as r,h as o,a as i,c,j as d,t as m,i as f,k as x,F as u,x as p,G as w}from"./index.10935ede.js";import{_ as b}from"./LabeledInput.c46b1996.js";var h=e({name:"Settings",components:{Button:s,LabeledInput:b},setup(){const e=t();return{readers:a,user:l,logout:n,selectReader:async s=>{if(!s.owner){if(!l.value)throw new Error("Can't find user.");await r.service("nfc-readers").patch(s._id,{owner:l.value._id})}await e.push({name:"reader",params:{readerId:s._id}})}}}});const g={class:"w-full flex flex-col"},y={class:"p-4 flex flex-row items-center"},k=d("span",{class:"ml-2 text-3xl"},"Einstellungen",-1),v={class:"bg-secondary max-h-full overflow-y-auto flex-grow p-6 bg-gradient-to-b from-primary to-secondary"},B={key:0,class:"flex flex-col justify-center items-center text-white"},_=d("span",{class:"flex text-xl font-heading"},[d("span",{class:"my-auto fab fa-spotify"}),d("span",{class:"ml-2"},"Nutzer:")],-1),C={class:"text-2xl font-semibold"},F={class:"flex flex-row flex-wrap content-between"},L={key:0,class:"text-white mx-auto mt-8 text-xl"},j={key:0,class:"absolute top-0 right-0 w-12",src:"/assets/new.91ce4dd8.png"},I=d("img",{class:"w-24",src:"/assets/music-box.c5fa1188.svg"},null,-1),E={class:"mt-2 text-white"},z=d("div",{class:"text-white pt-10"},[d("span",null,"Acknowledgement:"),w(" Favicon made by "),d("a",{href:"https://www.freepik.com",title:"Freepik"},"Freepik"),w(" from "),d("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")],-1),A={class:"flex text-gray-800 py-5"};h.render=function(e,s,t,a,l,n){const r=o("Button"),w=o("LabeledInput");return i(),c("div",g,[d("header",y,[d(r,{to:{name:"home"},icon:"fas fa-times",size:"md"}),k]),d("main",v,[e.user?(i(),c("div",B,[_,d("span",C,m(e.user.email),1)])):f("",!0),d(w,{class:"mb-5 mt-10",label:"Leek Boxen"},{default:x((()=>[d("div",F,[0===e.readers.length?(i(),c("span",L,"Bitte verbinde eine Box mit deinem System.")):f("",!0),(i(!0),c(u,null,p(e.readers,(s=>(i(),c("div",{key:s._id,class:"relative flex flex-col mr-4 mb-4 w-32 cursor-pointer border border-white shadow-2xl rounded-xl p-4 pb-0 text-center",onClick:t=>e.selectReader(s)},[s.owner?f("",!0):(i(),c("img",j)),I,d("span",E,m(s.name||"Leek Box"),1)],8,["onClick"])))),128))])])),_:1}),z]),d("footer",A,[d(r,{text:"Abmelden",class:"mx-4 flex-grow",onClick:e.logout},null,8,["onClick"])])])};export default h;
