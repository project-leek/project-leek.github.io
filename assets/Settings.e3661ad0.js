import{d as e,_ as s,u as a,B as t,C as l,D as r,E as n,h as o,a as i,c,j as d,t as x,i as f,k as m,F as u,x as p}from"./index.da790420.js";import{_ as w}from"./LabeledInput.1e5afa99.js";var b=e({name:"Settings",components:{Button:s,LabeledInput:w},setup(){const e=a();return{readers:t,user:l,logout:r,selectReader:async s=>{if(!s.owner){if(!l.value)throw new Error("Can't find user.");await n.service("nfc-readers").patch(s._id,{owner:l.value._id})}await e.push({name:"reader",params:{readerId:s._id}})}}}});const g={class:"w-full flex flex-col"},h={class:"p-4 flex flex-row items-center"},y=d("span",{class:"ml-2 text-3xl"},"Einstellungen",-1),v={class:"bg-secondary max-h-full overflow-y-auto flex-grow p-6 bg-gradient-to-b from-primary to-secondary"},k={key:0,class:"flex flex-col justify-center items-center text-white"},B=d("span",{class:"flex text-xl font-heading"},[d("span",{class:"my-auto fab fa-spotify"}),d("span",{class:"ml-2"},"Nutzer:")],-1),_={class:"text-2xl font-semibold"},C={class:"flex flex-row flex-wrap content-between"},L={key:0,class:"text-white mx-auto mt-8 text-xl"},j={key:0,class:"absolute top-0 right-0 w-12",src:"/assets/new.91ce4dd8.png"},I=d("img",{class:"w-24",src:"/assets/music-box.c5fa1188.svg"},null,-1),E={class:"mt-2 text-white"},z={class:"flex text-gray-800 py-5"};b.render=function(e,s,a,t,l,r){const n=o("Button"),w=o("LabeledInput");return i(),c("div",g,[d("header",h,[d(n,{to:{name:"home"},icon:"fas fa-times",size:"md"}),y]),d("main",v,[e.user?(i(),c("div",k,[B,d("span",_,x(e.user.email),1)])):f("",!0),d(w,{class:"mb-5 mt-10",label:"Leek Boxen"},{default:m((()=>[d("div",C,[0===e.readers.length?(i(),c("span",L,"Bitte verbinde eine Box mit deinem System.")):f("",!0),(i(!0),c(u,null,p(e.readers,(s=>(i(),c("div",{key:s._id,class:"relative flex flex-col mr-4 mb-4 w-32 cursor-pointer border border-white shadow-2xl rounded-xl p-4 pb-0 text-center",onClick:a=>e.selectReader(s)},[s.owner?f("",!0):(i(),c("img",j)),I,d("span",E,x(s.name||"Leek Box"),1)],8,["onClick"])))),128))])])),_:1})]),d("footer",z,[d(n,{text:"Abmelden",class:"mx-4 flex-grow",onClick:e.logout},null,8,["onClick"])])])};export default b;
