import{d as e,_ as l,f as a,r as t,a as o,c as d,e as n,t as u,F as r,g as s,h as i,i as c,v as p,j as m,k as f,l as v,w as g}from"./index.9c83c7d4.js";class w extends class{}{}class x{constructor(e,l){this.id=e,this.value=l}}var y=e({name:"Dropdown",components:{Button:l},props:{modelValue:{type:Object,required:!1,default:null},placeholderText:{type:String,required:!1,default:"Please select an item"},enableAddItem:{type:Boolean,required:!1,default:!1},removeable:{type:Boolean,default:!0},addItemText:{type:String,required:!1,default:"Please add an element"},items:{type:Array,default:()=>[]}},emits:{"update:model-value":e=>!0,"update:items":e=>!0,"remove-item":e=>!0},setup(e,l){const t=a(!1),o=a("");return{selectItem:function(a){e.modelValue&&e.modelValue.id===a.id?l.emit("update:model-value",null):l.emit("update:model-value",a),t.value=!1},addItem:function(){if(""===o.value)return;const a=new x(o.value,o.value);l.emit("update:items",e.items.concat(a)),l.emit("update:model-value",a),o.value="",t.value=!1},removeItem:function(a){e.modelValue&&a.id===e.modelValue.id&&l.emit("update:model-value",null),l.emit("remove-item",a)},dropdownExtended:t,newItemValue:o}}});const h={key:0,class:"value"},b={key:1,class:"placeholder text-gray-400"},V={key:0,class:"divide-y divide-yellow-50 static z-50"},I=n("hr",{class:"w-full border-dotted border-secondary border-1 my-2"},null,-1),k={class:"px-2"},T={key:0,class:"add-item"},z=n("hr",{class:"w-full border-solid border-secondary border-1 my-2"},null,-1),C={class:"add-item-section flex w-full items-center pt-0.5"};y.render=function(e,l,a,f,v,g){const w=t("Button");return o(),d("div",{class:["bg-white p-1 px-1.5 rounded-3xl w-full flex flex-col text-lg border-button shadow-lg border-2 outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-opacity-25",{"z-50":e.dropdownExtended}]},[n("div",{class:"flex items-center pl-2 cursor-pointer",onClick:l[1]||(l[1]=l=>e.dropdownExtended=!e.dropdownExtended)},[e.modelValue&&e.modelValue.value?(o(),d("span",h,u(e.modelValue.value),1)):(o(),d("span",b,u(e.placeholderText),1)),e.dropdownExtended?(o(),d(w,{key:2,class:"ml-auto w-8 h-8",icon:"fas fa-chevron-down","icon-size":3,round:""})):(o(),d(w,{key:3,class:"ml-auto w-8 h-8",icon:"fas fa-chevron-right","icon-size":3,round:""}))]),e.dropdownExtended?(o(),d("div",V,[(o(!0),d(r,null,s(e.items,(l=>(o(),d("div",{key:l.id},[I,n("div",{class:[{"bg-yellow-400":e.modelValue&&e.modelValue.id===l.id},"item flex w-full cursor-pointer hover:bg-yellow-200 rounded-2xl"],onClick:a=>e.selectItem(l)},[n("span",k,u(l.value),1),e.removeable?(o(),d(w,{key:0,class:"w-8 h-8 ml-auto",icon:"far fa-trash-alt","icon-size":3,round:"",onClick:a=>e.removeItem(l)},null,8,["onClick"])):i("",!0)],10,["onClick"])])))),128)),e.enableAddItem?(o(),d("div",T,[z,n("div",C,[c(n("input",{"onUpdate:modelValue":l[2]||(l[2]=l=>e.newItemValue=l),placeholder:e.addItemText,class:"flex-grow p-1 rounded-2xl focus:outline-none",onKeyup:l[3]||(l[3]=m(((...l)=>e.addItem&&e.addItem(...l)),["enter"]))},null,40,["placeholder"]),[[p,e.newItemValue]]),n(w,{class:"w-8 h-8",icon:"fas fa-plus","icon-size":3,round:"",onClick:e.addItem},null,8,["onClick"])])])):i("",!0)])):i("",!0)],2)};var E=e({name:"LabeledInput",props:{label:{type:String,required:!0}}});const G={class:"labeled-input w-full flex flex-col"},L={class:"label font-bold ml-6 text-white"};E.render=function(e,l,a,t,r,s){return o(),d("div",G,[n("span",L,u(e.label),1),f(e.$slots,"default")])};var S=e({name:"Textfield",props:{placeholder:{type:String,default:""},modelValue:{type:String,default:""},icon:{type:String,default:""}},emits:{"update:modelValue":e=>!0}});const q={class:"textfield flex flex-row border-2 bg-white border-yellow-400 px-4 py-1 rounded-full focus:ring-2 focus:ring-yellow-400 focus:ring-opacity-25 shadow-lg"};S.render=function(e,l,a,t,u,r){return o(),d("div",q,[e.icon?(o(),d("span",{key:0,class:["icon mr-4 text-xl my-auto",["fas",`fa-${e.icon}`]]},null,2)):i("",!0),n("input",{class:"input w-full outline-none bg-transparent placeholder-opacity-50 text-xl",placeholder:e.placeholder,type:"text",value:e.modelValue,onInput:l[1]||(l[1]=l=>e.$emit("update:modelValue",l.target.value))},null,40,["placeholder","value"])])};var A=e({name:"AddTagStepInfo",components:{Textfield:S,Dropdown:y,LabeledInput:E},props:{nfcTag:{type:Object,required:!0}},emits:{"update:nfc-tag":e=>!0},setup(e,l){const t=a(e.nfcTag),o=a([]),d=a([]),n=a();return async function(){const e=await v.service("nfc-tags").find();e instanceof Array?e.map((e=>{e.group&&!o.value.includes(e.group)&&o.value.push(e.group)})):e.data.map((e=>{e.group&&!o.value.includes(e.group)&&o.value.push(e.group)})),o.value.map((e=>d.value.push(new x(e,e)))),n.value=d.value.find((e=>e.value===t.value.group))}().catch((()=>{throw Error("failed to load group names")})),{currentTag:t,groupListItems:d,selectedGroup:n,selectGroup:function(){var e;t.value.group=(null==(e=n.value)?void 0:e.value)||"",l.emit("update:nfc-tag",t.value)}}}});const B={class:"w-full p-4 h-full flex flex-col items-center"};A.render=function(e,l,a,u,r,s){const i=t("Textfield"),c=t("LabeledInput"),p=t("Dropdown");return o(),d("div",B,[n(c,{label:"Tag Name",class:"w-full"},{default:g((()=>[n(i,{modelValue:e.currentTag.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.currentTag.name=l),placeholder:"z. B. Mario Figur",class:"rounded-full",onUpdate:l[2]||(l[2]=l=>e.$emit("update:nfc-tag",e.currentTag))},null,8,["modelValue"])])),_:1}),n(c,{label:"Gruppe",class:"w-full mt-8"},{default:g((()=>[n(p,{modelValue:e.selectedGroup,"onUpdate:modelValue":[l[3]||(l[3]=l=>e.selectedGroup=l),l[5]||(l[5]=l=>e.selectGroup())],items:e.groupListItems,"onUpdate:items":l[4]||(l[4]=l=>e.groupListItems=l),removeable:!1,"placeholder-text":"WÃ¤hle eine Gruppe","enable-add-item":!0},null,8,["modelValue","items"])])),_:1})])};export{x as L,w as N,y as _,S as a,A as b,E as c};
