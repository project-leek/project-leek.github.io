import{d as e,_ as s,u as t,A as a,B as l,C as n,D as r,E as o,h as i,a as c,c as d,j as m,i as x,t as f,k as w,F as u,v as p,G as h}from"./index.1a0061f2.js";import{_ as b}from"./LabeledInput.726a0351.js";var v=e({name:"Settings",components:{Button:s,LabeledInput:b},setup(){const e=t();return{readers:a,user:l,doLogout:async()=>{await o(),await e.replace({name:"welcome"})},selectReader:async s=>{if(!s.owner){if(!l.value)throw new Error("Can't find user.");await r.service("nfc-readers").patch(s._id,{owner:l.value._id})}await e.push({name:"reader",params:{readerId:s._id}})},doesUserHaveOwnReaders:n}}});const y={class:"w-full flex flex-col"},k={class:"p-4 flex flex-row items-center"},g=m("span",{class:"ml-2 text-3xl"},"Einstellungen",-1),B={class:"flex flex-col bg-secondary max-h-full overflow-y-auto flex-grow p-6 bg-gradient-to-b from-primary to-secondary"},L={key:0,class:"flex flex-col justify-center items-center text-white"},_=m("span",{class:"flex text-xl font-heading"},[m("span",{class:"my-auto fab fa-spotify"}),m("span",{class:"ml-2"},"Nutzer:")],-1),C={class:"text-2xl font-semibold"},F={class:"flex flex-row flex-wrap content-between"},R={key:0,class:"text-white mx-auto mt-8 text-xl"},j={key:1},z={key:0,class:"absolute top-0 right-0 w-12",src:"/assets/new.91ce4dd8.png"},A=m("img",{class:"w-24",src:"/assets/music-box.c5fa1188.svg"},null,-1),I={class:"mt-2 text-white"},E={key:2,class:"text-center text-white text-2xl"},H=m("div",{class:"text-white mt-auto"},[m("span",null,"Acknowledgement:"),h(" Favicon made by "),m("a",{href:"https://www.freepik.com",title:"Freepik"},"Freepik"),h(" from "),m("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")],-1),O={class:"flex text-gray-800 py-5"};v.render=function(e,s,t,a,l,n){const r=i("Button"),o=i("LabeledInput");return c(),d("div",y,[m("header",k,[e.doesUserHaveOwnReaders?(c(),d(r,{key:0,to:{name:"home"},icon:"fas fa-times",size:"md"})):x("",!0),g]),m("main",B,[e.user?(c(),d("div",L,[_,m("span",C,f(e.user.email),1)])):x("",!0),m(o,{class:"mb-5 mt-10",label:"Leek Boxen"},{default:w((()=>[m("div",F,[e.readers&&0!==e.readers.length?(c(),d("div",j,[(c(!0),d(u,null,p(e.readers,(s=>(c(),d("div",{key:s._id,class:"relative flex flex-col mr-4 mb-4 w-32 cursor-pointer border border-white shadow-2xl rounded-xl p-4 pb-0 text-center",onClick:t=>e.selectReader(s)},[s.owner?x("",!0):(c(),d("img",z)),A,m("span",I,f(s.name||"Leek Box"),1)],8,["onClick"])))),128))])):(c(),d("span",R,"Bitte verbinde eine Box mit deinem System.")),e.doesUserHaveOwnReaders?x("",!0):(c(),d("p",E," Bitte richte zuerst mindestens eine Box ein, um die App verwenden zu k√∂nnen. "))])])),_:1}),H]),m("footer",O,[m(r,{text:"Abmelden",class:"mx-4 flex-grow",onClick:e.doLogout},null,8,["onClick"])])])};export default v;
