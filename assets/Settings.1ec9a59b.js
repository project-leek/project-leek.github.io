import{d as e,_ as s,u as a,y as t,z as l,A as r,B as n,f as o,a as c,c as i,g as d,t as f,q as x,h as m,F as u,n as p}from"./index.94caf2f1.js";import{_ as w}from"./LabeledInput.95fc763c.js";var b=e({name:"Settings",components:{Button:s,LabeledInput:w},setup(){const e=a();return{readers:t,user:l,logout:r,selectReader:async s=>{if(!s.owner){if(!l.value)throw new Error("Can't find user.");await n.service("nfc-readers").patch(s._id,{owner:l.value._id})}await e.push({name:"reader",params:{readerId:s._id}})}}}});const g={class:"w-full flex flex-col"},y={class:"p-8 flex flex-row items-center"},h=d("span",{class:"ml-2 text-3xl"},"Einstellungen",-1),v={class:"bg-secondary max-h-full overflow-y-auto flex-grow p-6 bg-gradient-to-b from-primary to-secondary"},k={key:0,class:"flex flex-col justify-center items-center text-white"},B=d("span",{class:"flex text-xl font-heading"},[d("span",{class:"my-auto fab fa-spotify"}),d("span",{class:"ml-2"},"Nutzer:")],-1),_={class:"text-2xl font-semibold"},C={class:"flex flex-row flex-wrap content-between"},L={key:0,class:"text-white mx-auto mt-8 text-xl"},I={key:0,class:"absolute top-0 right-0 w-12",src:"/assets/new.426812e9.png"},j=d("img",{class:"w-24",src:"/assets/music-box.27132ea5.svg"},null,-1),z={class:"mt-2 text-white"},A={class:"flex text-gray-800 py-5"};b.render=function(e,s,a,t,l,r){const n=o("Button"),w=o("LabeledInput");return c(),i("div",g,[d("header",y,[d(n,{to:{name:"home"},icon:"fas fa-times",size:"md"}),h]),d("main",v,[e.user?(c(),i("div",k,[B,d("span",_,f(e.user.email),1)])):x("",!0),d(w,{class:"mb-5 mt-10",label:"Leek Boxen"},{default:m((()=>[d("div",C,[0===e.readers.length?(c(),i("span",L,"Bitte verbinde eine Box mit deinem System.")):x("",!0),(c(!0),i(u,null,p(e.readers,(s=>(c(),i("div",{key:s._id,class:"relative flex flex-col mr-4 mb-4 w-32 cursor-pointer border border-white shadow-2xl rounded-xl p-4 pb-0 text-center",onClick:a=>e.selectReader(s)},[s.owner?x("",!0):(c(),i("img",I)),j,d("span",z,f(s.name||"Leek Box"),1)],8,["onClick"])))),128))])])),_:1})]),d("footer",A,[d(n,{text:"Abmelden",class:"mx-4 flex-grow",onClick:e.logout},null,8,["onClick"])])])};export default b;
