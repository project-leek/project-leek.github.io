import{d as e,o as a,a as t,c as n,e as s,t as c,j as l,r,f as o,u as d,k as f,l as i,_ as g,g as p,m as u,F as m,h as v}from"./index.f2cbbdd8.js";var x=e({name:"AddTagStepDemo",props:{nfcTag:{type:Object,required:!0}},emits:["update:nfc-tag"],setup(e,t){a((()=>{const a=e.nfcTag;a.group="Mukke",a.imageUrl="http://www.nordseeinseln-infos.de/wp-content/uploads/Nordseeinseln_V%C3%B6gel_M%C3%B6wen_Sylt.jpg",t.emit("update:nfc-tag",a)}))}});const T={class:"add-tag-step-demo"};x.render=function(e,a,l,r,o,d){return t(),n("div",T,[s("pre",null,c(e.nfcTag),1)])};var h=e({name:"AddTagStepImage",components:{TagEntry:l},props:{nfcTag:{type:Object,required:!0}},setup:()=>({})});const w={class:"add-tag-step-image flex flex-grow flex-col justify-start items-start"},y=s("div",{class:"m-8 text-lg font-semibold text-white"},"Bild von Spotify",-1);h.render=function(e,a,c,l,o,d){const f=r("TagEntry");return t(),n("div",w,[y,s(f,{class:"ml-8 w-32",img:e.nfcTag.imageUrl},null,8,["img"])])};class k extends class{}{}var S=e({name:"AddTagStepPlaceOnReader",emits:["proceed","update:nfc-tag"],setup(e,t){const n=o(),s=d(),c=e=>{(async()=>{if(!e.attachedTagData)return;(await f.service("nfc-tags").find({query:{nfcData:e.attachedTagData}})).total>0&&(alert("Der Tag wurde bereits angelegt!"),s.push({name:"home"})),n.value&&(n.value.nfcData=e.attachedTagData,t.emit("update:nfc-tag",n),t.emit("proceed"))})()};a((()=>{n.value=new k,t.emit("update:nfc-tag",n),f.service("nfc-readers").on("patched",c).on("updated",c)})),i((()=>{f.service("nfc-readers").off("patched",c).off("updated",c)}))}});const b={class:"add-tag-step-place-tag-on-reader p-12"},D=s("img",{src:"/assets/attach-tag.e9d60af8.gif"},null,-1);S.render=function(e,a,s,c,l,r){return t(),n("div",b,[D])};var j=e({name:"AddTag",components:{Button:g},setup(){const e=o(null),a=[S,x,h],t=o(0),n=d();return{activeStep:t,steps:a,nfcTag:e,updateTag:a=>{a.value?e.value=a.value:e.value=a},saveTag:async()=>{e.value&&(await f.service("nfc-tags").create(e.value),n.push({name:"home"}),alert("Neuen Tag erfolgreich erstellt."))}}}});const C={class:"add-tag w-full flex flex-col"},B={class:"p-8 flex flex-row"},A={class:"headlines ml-2 flex flex-col"},N=s("span",null,"Neuen Tag anlegen",-1),U={key:0},_={class:"bg-yellow-400 w-full flex-grow"},q={class:"flex flex-col items-center"},F={class:"steps flex flex-row justify-center transform -translate-y-3 bg-white rounded-t-md px-2 py-1"},O={class:"actions flex flex-row justify-center mb-4"},E={key:3,class:"text-center"};j.render=function(e,a,l,o,d,f){const i=r("Button");return t(),n("div",C,[s("header",B,[s(i,{back:"",round:"",icon:"fas fa-times",class:"h-7 w-7"}),s("div",A,[N,e.nfcTag&&e.nfcTag.nfcData?(t(),n("span",U,"Tag-ID: #"+c(e.nfcTag.nfcData),1)):p("",!0)])]),s("div",_,[(t(),n(u(e.steps[e.activeStep]),{"nfc-tag":e.nfcTag,"onUpdate:nfcTag":e.updateTag,onProceed:a[1]||(a[1]=a=>e.activeStep++)},null,8,["nfc-tag","onUpdate:nfcTag"]))]),s("footer",q,[s("ul",F,[(t(!0),n(m,null,v(e.steps.length,(a=>(t(),n("li",{key:a,class:"mx-2"},c(e.activeStep===a-1?"x":"o"),1)))),128))]),s("div",O,[0!==e.activeStep?(t(),n(i,{key:0,round:"","text-size":5,icon:"fas fa-chevron-left",class:"mr-4 px-4 py-2 text-center",onClick:a[2]||(a[2]=a=>e.activeStep--)})):p("",!0),e.activeStep===e.steps.length-1?(t(),n(i,{key:1,round:"",class:"flex-grow p-2",icon:"fas fa-download",text:"Tag erstellen",onClick:e.saveTag},null,8,["onClick"])):0!==e.activeStep?(t(),n(i,{key:2,class:"flex-grow p-2",icon:"fas fa-chevron-right",round:"",text:"Weiter",onClick:a[3]||(a[3]=a=>e.activeStep++)})):(t(),n("span",E,"Zum Fortfahren bitte NFC Tag an den Reader halten!"))])])])};export default j;
